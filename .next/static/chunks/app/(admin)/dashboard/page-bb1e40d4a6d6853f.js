(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{26126:(e,r,a)=>{"use strict";a.d(r,{E:()=>i});var t=a(95155);a(12115);var s=a(99708),l=a(74466),o=a(59434);let n=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:a,asChild:l=!1,...i}=e,d=l?s.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,o.cn)(n({variant:a}),r),...i})}},26479:(e,r,a)=>{"use strict";a.d(r,{AlertsSection:()=>h});var t=a(95155),s=a(66695),l=a(26126),o=a(85339),n=a(14186),i=a(40646),d=a(81284),c=a(23861),m=a(1243),u=a(71539),x=a(75525);let h=e=>{let{alerts:r,isLoading:a}=e;if(a)return(0,t.jsxs)(s.Zp,{className:"border border-border/50 shadow-lg bg-gradient-to-br from-white to-gray-50/80 dark:from-gray-900 dark:to-gray-800/50 dark:border-gray-800",children:[(0,t.jsx)(s.aR,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-6 w-6 bg-muted rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-6 bg-muted rounded w-1/3 animate-pulse"})]})}),(0,t.jsx)(s.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,r)=>(0,t.jsx)("div",{className:"p-6 border rounded-xl animate-pulse bg-muted/20",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-5 w-5 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})]}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-1/2"})]})},r))})})]});let h=r.reduce((e,r)=>(e[r.priority]||(e[r.priority]=[]),e[r.priority].push(r),e),{});return(0,t.jsxs)(s.Zp,{children:[(0,t.jsx)(s.aR,{className:"pb-2",children:(0,t.jsxs)(s.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-orange-100 dark:bg-orange-900/30",children:(0,t.jsx)(c.A,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Alertas y Notificaciones"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitoreo en tiempo real del sistema"})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.E,{variant:"secondary",className:"px-3 py-1",children:[r.length," ",1===r.length?"alerta":"alertas"]}),r.some(e=>"critical"===e.priority)&&(0,t.jsxs)(l.E,{variant:"destructive",className:"px-2 py-1 animate-pulse",children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Cr\xedtico"]})]})]})}),(0,t.jsx)(s.Wu,{className:"pt-6",children:r.length>0?(0,t.jsx)("div",{className:"space-y-4",children:["critical","high","medium","low"].map(e=>{let r=h[e];return r&&0!==r.length?(0,t.jsx)("div",{className:"space-y-3",children:r.map((r,a)=>{let s=(e=>{switch(e){case"critical":return{bgColor:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-950/30 dark:to-red-900/30",borderColor:"border-red-200 dark:border-red-800",textColor:"text-red-800 dark:text-red-200",iconColor:"text-red-600 dark:text-red-400",badgeVariant:"destructive",icon:m.A};case"high":return{bgColor:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-950/30 dark:to-orange-900/30",borderColor:"border-orange-200 dark:border-orange-800",textColor:"text-orange-800 dark:text-orange-200",iconColor:"text-orange-600 dark:text-orange-400",badgeVariant:"secondary",icon:u.A};case"medium":return{bgColor:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30",borderColor:"border-yellow-200 dark:border-yellow-800",textColor:"text-yellow-800 dark:text-yellow-200",iconColor:"text-yellow-600 dark:text-yellow-400",badgeVariant:"outline",icon:m.A};case"low":return{bgColor:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30",borderColor:"border-blue-200 dark:border-blue-800",textColor:"text-blue-800 dark:text-blue-200",iconColor:"text-blue-600 dark:text-blue-400",badgeVariant:"outline",icon:d.A};default:return{bgColor:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-950/30 dark:to-gray-900/30",borderColor:"border-gray-200 dark:border-gray-800",textColor:"text-gray-800 dark:text-gray-200",iconColor:"text-gray-600 dark:text-gray-400",badgeVariant:"outline",icon:c.A}}})(r.priority),x=(e=>{switch(e){case"overdue_payment":return(0,t.jsx)(o.A,{className:"h-5 w-5"});case"contract_expiring":return(0,t.jsx)(n.A,{className:"h-5 w-5"});case"pending_approval":return(0,t.jsx)(i.A,{className:"h-5 w-5"});case"system_notification":return(0,t.jsx)(d.A,{className:"h-5 w-5"});default:return(0,t.jsx)(c.A,{className:"h-5 w-5"})}})(r.type),h=s.icon;return(0,t.jsx)("div",{className:"p-6 rounded-xl border-2 transition-all duration-300 hover:shadow-md ".concat(s.bgColor," ").concat(s.borderColor," group"),children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-background/50 ".concat(s.iconColor," group-hover:scale-110 transition-transform duration-300"),children:x}),(0,t.jsx)("div",{className:"flex-1 min-w-0 space-y-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)(l.E,{variant:s.badgeVariant,className:"text-xs font-semibold px-2 py-1",children:[(0,t.jsx)(h,{className:"h-3 w-3 mr-1"}),(e=>{switch(e){case"critical":return"Cr\xedtico";case"high":return"Alto";case"medium":return"Medio";case"low":return"Bajo";default:return"Normal"}})(r.priority)]}),(0,t.jsx)(l.E,{variant:"outline",className:"text-xs px-2 py-1",children:(e=>{switch(e){case"overdue_payment":return"Pago Vencido";case"contract_expiring":return"Contrato por Vencer";case"pending_approval":return"Pendiente de Aprobaci\xf3n";case"system_notification":return"Notificaci\xf3n del Sistema";default:return"Notificaci\xf3n"}})(r.type)})]}),(0,t.jsx)("p",{className:"text-sm font-medium leading-relaxed ".concat(s.textColor),children:r.message})]})})]})})},"".concat(e,"-").concat(a))})},e):null})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-emerald-100 to-emerald-200 dark:from-emerald-900/30 dark:to-emerald-800/30 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)(x.A,{className:"h-10 w-10 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Sistema Seguro"}),(0,t.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Excelente trabajo. No hay alertas pendientes en este momento. El sistema est\xe1 funcionando correctamente."}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-sm text-emerald-600 dark:text-emerald-400 font-medium",children:"Monitoreo activo"})]})]})})]})}},34797:(e,r,a)=>{"use strict";a.d(r,{StatsCards:()=>h});var t=a(95155),s=a(66695),l=a(26126),o=a(33109),n=a(68500),i=a(87712),d=a(57434),c=a(17580),m=a(23227),u=a(40646),x=a(1243);let h=e=>{let{data:r,isLoading:a}=e,h=(e,r)=>r>0?Math.round(e/r*100):0,g=function(e){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e>=80?r?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400":e>=60?"text-amber-600 dark:text-amber-400":r?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"},b=function(e){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e>=80?r?o.A:n.A:e>=60?i.A:r?n.A:o.A};if(a)return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Array.from({length:2}).map((e,r)=>(0,t.jsx)(s.Zp,{className:"animate-pulse border border-border/50 shadow-lg bg-gradient-to-br from-white to-gray-50/80 dark:from-gray-900 dark:to-gray-800/50 dark:border-gray-800",children:(0,t.jsx)(s.Wu,{className:"p-8",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded-lg w-3/4"}),(0,t.jsx)("div",{className:"h-8 bg-muted rounded-lg w-1/2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]}),(0,t.jsx)("div",{className:"h-16 w-16 bg-muted rounded-2xl"})]})})})},r))}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((e,r)=>(0,t.jsx)(s.Zp,{className:"animate-pulse border border-border/50 shadow-lg bg-gradient-to-br from-white to-gray-50/80 dark:from-gray-900 dark:to-gray-800/50 dark:border-gray-800",children:(0,t.jsx)(s.Wu,{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-3/4"}),(0,t.jsx)("div",{className:"h-6 bg-muted rounded w-1/2"}),(0,t.jsx)("div",{className:"h-2 bg-muted rounded w-2/3"})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-muted rounded-xl"})]})})})},r+2))})]});let p=[{title:"Contratos Activos",value:r.contracts.active.toString(),total:r.contracts.total,subtitle:"de ".concat(r.contracts.total," totales"),icon:d.A,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30",percentage:h(r.contracts.active,r.contracts.total)},{title:"Usuarios Activos",value:r.users.active.toString(),total:r.users.total,subtitle:"de ".concat(r.users.total," totales"),icon:c.A,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/30 dark:to-purple-900/30",percentage:h(r.users.active,r.users.total)}],v=[{title:"Empresas Activas",value:r.companies.active.toString(),total:r.companies.total,subtitle:"de ".concat(r.companies.total," totales"),icon:m.A,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-950/30 dark:to-indigo-900/30",percentage:h(r.companies.active,r.companies.total)},{title:"Entregables Completados",value:r.deliverables.completed.toString(),total:r.deliverables.total,subtitle:"de ".concat(r.deliverables.total," totales"),icon:u.A,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/30 dark:to-emerald-900/30",percentage:h(r.deliverables.completed,r.deliverables.total)},{title:"Contratos por Vencer",value:r.contracts.expiringSoon.toString(),icon:x.A,color:"text-amber-600 dark:text-amber-400",bgColor:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/30 dark:to-amber-900/30",isAlert:!0},{title:"Pagos Vencidos",value:r.contracts.withOverduePayments.toString(),icon:x.A,color:"text-red-600 dark:text-red-400",bgColor:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/30 dark:to-red-900/30",isAlert:!0}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:p.map((e,r)=>{let a=e.icon,o=b(e.percentage),n=g(e.percentage);return(0,t.jsx)(s.Zp,{className:"border shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:(0,t.jsx)(s.Wu,{className:"p-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:e.title}),(0,t.jsxs)(l.E,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[e.percentage,"%"]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-4xl font-bold tracking-tight",children:e.value}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-4 w-4 ".concat(n)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.subtitle})]})]}),(0,t.jsx)("div",{className:"w-full bg-muted/30 rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(e.bgColor.replace("bg-gradient-to-br","bg-gradient-to-r")),style:{width:"".concat(e.percentage,"%")}})})]}),(0,t.jsx)("div",{className:"p-4 rounded-2xl ".concat(e.bgColor," group-hover:scale-110 transition-transform duration-300"),children:(0,t.jsx)(a,{className:"h-8 w-8 ".concat(e.color)})})]})})},r)})}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:v.map((e,r)=>{let a=e.icon,o=!e.isAlert&&e.total,n=o?b(e.percentage):null,i=o?g(e.percentage,!e.isAlert):"";return(0,t.jsx)(s.Zp,{className:"border shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:(0,t.jsx)(s.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:e.title}),o&&(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs px-1.5 py-0.5",children:[e.percentage,"%"]}),e.isAlert&&parseInt(e.value)>0&&(0,t.jsx)(l.E,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:"\xa1Atenci\xf3n!"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-2xl font-bold tracking-tight",children:e.value}),e.subtitle&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[n&&(0,t.jsx)(n,{className:"h-3 w-3 ".concat(i)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.subtitle})]})]}),o&&(0,t.jsx)("div",{className:"w-full bg-muted/30 rounded-full h-1.5 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(e.bgColor.replace("bg-gradient-to-br","bg-gradient-to-r")),style:{width:"".concat(e.percentage,"%")}})})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl ".concat(e.bgColor," group-hover:scale-110 transition-transform duration-300"),children:(0,t.jsx)(a,{className:"h-6 w-6 ".concat(e.color)})})]})})},r+2)})})]})}},40348:(e,r,a)=>{"use strict";a.d(r,{DashboardView:()=>f});var t=a(95155),s=a(12115),l=a(66695),o=a(30285),n=a(59409),i=a(53904),d=a(95838),c=a(90697);let m={dashboard:"/dashboard"};class u{async getDashboardData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new URLSearchParams;e.year&&r.append("year",e.year.toString()),e.month&&r.append("month",e.month.toString()),e.startDate&&r.append("startDate",e.startDate),e.endDate&&r.append("endDate",e.endDate);let a=r.toString(),t=a?"".concat(m.dashboard,"?").concat(a):m.dashboard;return await c.q.get(t)}}let x=new u,h={all:["dashboard"],data:e=>[...h.all,"data",e]},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.useQuery)({queryKey:h.data(e),queryFn:()=>x.getDashboardData(e),retry:1,refetchOnWindowFocus:!0,staleTime:3e5,refetchInterval:6e5})};var b=a(34797),p=a(97420),v=a(26479);let f=()=>{var e,r;let[a,d]=(0,s.useState)({year:new Date().getFullYear(),month:new Date().getMonth()+1}),{data:c,isLoading:m,refetch:u,isFetching:x}=g(a),h=(e,r)=>{d(a=>({...a,[e]:r}))},f=new Date().getFullYear(),j=Array.from({length:5},(e,r)=>f-r);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{className:"pb-4",children:(0,t.jsx)(l.ZB,{className:"text-lg font-semibold",children:"Filtros del Dashboard"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-end w-full",children:[(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"A\xf1o"}),(0,t.jsxs)(n.l6,{value:null==(e=a.year)?void 0:e.toString(),onValueChange:e=>h("year",parseInt(e)),children:[(0,t.jsx)(n.bq,{className:"w-full",children:(0,t.jsx)(n.yv,{placeholder:"Seleccionar a\xf1o"})}),(0,t.jsx)(n.gC,{children:j.map(e=>(0,t.jsx)(n.eb,{value:e.toString(),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Mes"}),(0,t.jsxs)(n.l6,{value:(null==(r=a.month)?void 0:r.toString())||"0",onValueChange:e=>{let r=parseInt(e);h("month",0===r?"":r)},children:[(0,t.jsx)(n.bq,{className:"w-full",children:(0,t.jsx)(n.yv,{placeholder:"Seleccionar mes"})}),(0,t.jsx)(n.gC,{children:[{value:0,label:"Todos los meses"},{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}].map(e=>(0,t.jsx)(n.eb,{value:e.value.toString(),children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Acci\xf3n"}),(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>{u()},disabled:x,className:"flex items-center justify-center gap-2 w-full",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 ".concat(x?"animate-spin":"")}),"Actualizar"]})]})]})})]}),c&&(0,t.jsx)(b.StatsCards,{data:c,isLoading:m}),c&&(0,t.jsx)(p.ChartsSection,{data:c,isLoading:m}),c&&(0,t.jsx)(v.AlertsSection,{alerts:c.alerts,isLoading:m})]})}},59409:(e,r,a)=>{"use strict";a.d(r,{bq:()=>m,eb:()=>x,gC:()=>u,l6:()=>d,yv:()=>c});var t=a(95155);a(12115);var s=a(33945),l=a(66474),o=a(5196),n=a(47863),i=a(59434);function d(e){let{...r}=e;return(0,t.jsx)(s.bL,{"data-slot":"select",...r})}function c(e){let{...r}=e;return(0,t.jsx)(s.WT,{"data-slot":"select-value",...r})}function m(e){let{className:r,size:a="default",children:o,...n}=e;return(0,t.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[o,(0,t.jsx)(s.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:r,children:a,position:l="popper",...o}=e;return(0,t.jsx)(s.ZL,{children:(0,t.jsxs)(s.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...o,children:[(0,t.jsx)(h,{}),(0,t.jsx)(s.LM,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(g,{})]})})}function x(e){let{className:r,children:a,...l}=e;return(0,t.jsxs)(s.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(s.VF,{children:(0,t.jsx)(o.A,{className:"size-4"})})}),(0,t.jsx)(s.p4,{children:a})]})}function h(e){let{className:r,...a}=e;return(0,t.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(n.A,{className:"size-4"})})}function g(e){let{className:r,...a}=e;return(0,t.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(l.A,{className:"size-4"})})}},62603:(e,r,a)=>{Promise.resolve().then(a.bind(a,88902)),Promise.resolve().then(a.bind(a,61581)),Promise.resolve().then(a.bind(a,26715)),Promise.resolve().then(a.bind(a,80382)),Promise.resolve().then(a.bind(a,48822)),Promise.resolve().then(a.bind(a,62490)),Promise.resolve().then(a.bind(a,5041)),Promise.resolve().then(a.bind(a,99138)),Promise.resolve().then(a.bind(a,71610)),Promise.resolve().then(a.bind(a,95838)),Promise.resolve().then(a.bind(a,55490)),Promise.resolve().then(a.bind(a,41142)),Promise.resolve().then(a.bind(a,23666)),Promise.resolve().then(a.bind(a,91165)),Promise.resolve().then(a.bind(a,22346)),Promise.resolve().then(a.bind(a,3501)),Promise.resolve().then(a.bind(a,26479)),Promise.resolve().then(a.bind(a,97420)),Promise.resolve().then(a.bind(a,40348)),Promise.resolve().then(a.bind(a,34797))},97420:(e,r,a)=>{"use strict";a.d(r,{ChartsSection:()=>L});var t=a(95155),s=a(66695),l=a(12115),o=a(83540),n=a(94517),i=a(24026),d=a(59434);let c={light:"",dark:".dark"},m=l.createContext(null);function u(e){let{id:r,className:a,children:s,config:n,...i}=e,c=l.useId(),u="chart-".concat(r||c.replace(/:/g,""));return(0,t.jsx)(m.Provider,{value:{config:n},children:(0,t.jsxs)("div",{"data-slot":"chart","data-chart":u,className:(0,d.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",a),...i,children:[(0,t.jsx)(x,{id:u,config:n}),(0,t.jsx)(o.u,{children:s})]})})}let x=e=>{let{id:r,config:a}=e,s=Object.entries(a).filter(e=>{let[,r]=e;return r.theme||r.color});return s.length?(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[a,t]=e;return"\n".concat(t," [data-chart=").concat(r,"] {\n").concat(s.map(e=>{var r;let[t,s]=e,l=(null==(r=s.theme)?void 0:r[a])||s.color;return l?"  --color-".concat(t,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},h=n.m;function g(e){let{active:r,payload:a,className:s,indicator:o="dot",hideLabel:n=!1,hideIndicator:i=!1,label:c,labelFormatter:u,labelClassName:x,formatter:h,color:g,nameKey:p,labelKey:v}=e,{config:f}=function(){let e=l.useContext(m);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),j=l.useMemo(()=>{var e;if(n||!(null==a?void 0:a.length))return null;let[r]=a,s="".concat(v||(null==r?void 0:r.dataKey)||(null==r?void 0:r.name)||"value"),l=b(f,r,s),o=v||"string"!=typeof c?null==l?void 0:l.label:(null==(e=f[c])?void 0:e.label)||c;return u?(0,t.jsx)("div",{className:(0,d.cn)("font-medium",x),children:u(o,a)}):o?(0,t.jsx)("div",{className:(0,d.cn)("font-medium",x),children:o}):null},[c,u,a,n,x,f,v]);if(!r||!(null==a?void 0:a.length))return null;let y=1===a.length&&"dot"!==o;return(0,t.jsxs)("div",{className:(0,d.cn)("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",s),children:[y?null:j,(0,t.jsx)("div",{className:"grid gap-1.5",children:a.filter(e=>"none"!==e.type).map((e,r)=>{let a="".concat(p||e.name||e.dataKey||"value"),s=b(f,e,a),l=g||e.payload.fill||e.color;return(0,t.jsx)("div",{className:(0,d.cn)("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===o&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,r,e.payload):(0,t.jsxs)(t.Fragment,{children:[(null==s?void 0:s.icon)?(0,t.jsx)(s.icon,{}):!i&&(0,t.jsx)("div",{className:(0,d.cn)("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":y&&"dashed"===o}),style:{"--color-bg":l,"--color-border":l}}),(0,t.jsxs)("div",{className:(0,d.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,t.jsxs)("div",{className:"grid gap-1.5",children:[y?j:null,(0,t.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,t.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function b(e,r,a){if("object"!=typeof r||null===r)return;let t="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,s=a;return a in r&&"string"==typeof r[a]?s=r[a]:t&&a in t&&"string"==typeof t[a]&&(s=t[a]),s in e?e[s]:e[a]}i.s;var p=a(99445),v=a(94754),f=a(96025),j=a(16238),y=a(62341),N=a(93504),k=a(21374),w=a(8782),C=a(34e3),A=a(33109),P=a(94870),_=a(88515),S=a(57434),D=a(17580),E=a(23227),W=a(26126);let L=e=>{let{data:r,isLoading:a}=e,l=e=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),o=e=>new Date(e+"-01").toLocaleDateString("es-PE",{month:"short",year:"2-digit"}),n={primary:"hsl(221, 83%, 53%)",secondary:"hsl(262, 83%, 58%)",success:"hsl(142, 76%, 36%)",warning:"hsl(38, 92%, 50%)",info:"hsl(199, 89%, 48%)"},i={amount:{label:"Ingresos",color:n.primary}},d={amount:{label:"Contratos",color:n.secondary}},c={internalCollaborators:{label:"Colaboradores Internos",color:n.primary},externalCollaborators:{label:"Colaboradores Externos",color:n.success},clients:{label:"Clientes",color:n.warning}},m={approved:{label:"Aprobados",color:n.success},completed:{label:"Completados",color:n.info},pending:{label:"Pendientes",color:n.warning}},x=[{category:"internalCollaborators",value:r.users.internalCollaborators,fill:n.primary,name:"Colaboradores Internos"},{category:"externalCollaborators",value:r.users.externalCollaborators,fill:n.success,name:"Colaboradores Externos"},{category:"clients",value:r.users.clients,fill:n.warning,name:"Clientes"}],b=[{category:"approved",value:r.deliverables.approved,fill:n.success,name:"Aprobados"},{category:"completed",value:r.deliverables.completed-r.deliverables.approved,fill:n.info,name:"Completados"},{category:"pending",value:r.deliverables.pending,fill:n.warning,name:"Pendientes"}],L=e=>{var r,a;if(e.length<2)return{trend:0,isPositive:!0};let t=(null==(r=e[e.length-1])?void 0:r.amount)||0,s=(null==(a=e[e.length-2])?void 0:a.amount)||0,l=s>0?(t-s)/s*100:0;return{trend:Math.abs(l),isPositive:l>=0}},M=L(r.charts.incomeByMonth),F=L(r.charts.contractsByMonth);return a?(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:Array.from({length:4}).map((e,r)=>(0,t.jsxs)(s.Zp,{className:"animate-pulse border border-border/50 shadow-lg bg-gradient-to-br from-white to-gray-50/80 dark:from-gray-900 dark:to-gray-800/50 dark:border-gray-800",children:[(0,t.jsxs)(s.aR,{className:"pb-3",children:[(0,t.jsx)("div",{className:"h-6 bg-muted rounded-lg w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mt-2"})]}),(0,t.jsx)(s.Wu,{children:(0,t.jsx)("div",{className:"h-80 bg-muted rounded-xl"})})]},r))}):(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(s.Zp,{children:[(0,t.jsx)(s.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:(0,t.jsx)(A.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.ZB,{className:"text-lg font-semibold",children:"Ingresos por Mes"}),(0,t.jsx)(s.BT,{className:"text-sm",children:"Evoluci\xf3n de ingresos mensuales"})]})]}),(0,t.jsxs)(W.E,{variant:M.isPositive?"default":"destructive",className:"flex items-center gap-1 px-3 py-1",children:[M.isPositive?(0,t.jsx)(P.A,{className:"h-3 w-3"}):(0,t.jsx)(_.A,{className:"h-3 w-3"}),M.trend.toFixed(1),"%"]})]})}),(0,t.jsx)(s.Wu,{className:"pt-6",children:(0,t.jsx)(u,{config:i,children:(0,t.jsxs)(p.Q,{accessibilityLayer:!0,data:r.charts.incomeByMonth,margin:{left:12,right:12,top:12,bottom:12},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:n.primary,stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:n.primary,stopOpacity:.05})]})}),(0,t.jsx)(v.d,{strokeDasharray:"3 3",stroke:"hsl(var(--muted-foreground))",strokeOpacity:.2,vertical:!1}),(0,t.jsx)(f.W,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:12,tickFormatter:o,className:"text-xs font-medium"}),(0,t.jsx)(j.h,{tickLine:!1,axisLine:!1,tickMargin:12,tickFormatter:l,className:"text-xs font-medium"}),(0,t.jsx)(h,{cursor:{stroke:n.primary,strokeWidth:1,strokeDasharray:"5 5"},content:(0,t.jsx)(g,{indicator:"dot",className:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-xl"}),formatter:e=>[l(e),"Ingresos"],labelFormatter:o}),(0,t.jsx)(y.G,{dataKey:"amount",type:"monotone",fill:"url(#incomeGradient)",stroke:n.primary,strokeWidth:3,dot:{fill:n.primary,strokeWidth:2,r:4},activeDot:{r:6,stroke:n.primary,strokeWidth:2}})]})})})]}),(0,t.jsxs)(s.Zp,{children:[(0,t.jsx)(s.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-purple-100 dark:bg-purple-900/30",children:(0,t.jsx)(S.A,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.ZB,{className:"text-lg font-semibold",children:"Contratos por Mes"}),(0,t.jsx)(s.BT,{className:"text-sm",children:"Nuevos contratos creados mensualmente"})]})]}),(0,t.jsxs)(W.E,{variant:F.isPositive?"default":"destructive",className:"flex items-center gap-1 px-3 py-1",children:[F.isPositive?(0,t.jsx)(P.A,{className:"h-3 w-3"}):(0,t.jsx)(_.A,{className:"h-3 w-3"}),F.trend.toFixed(1),"%"]})]})}),(0,t.jsx)(s.Wu,{className:"pt-6",children:(0,t.jsx)(u,{config:d,children:(0,t.jsxs)(N.b,{accessibilityLayer:!0,data:r.charts.contractsByMonth,margin:{left:12,right:12,top:12,bottom:12},children:[(0,t.jsx)(v.d,{strokeDasharray:"3 3",stroke:"hsl(var(--muted-foreground))",strokeOpacity:.2,vertical:!1}),(0,t.jsx)(f.W,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:12,tickFormatter:o,className:"text-xs font-medium"}),(0,t.jsx)(j.h,{tickLine:!1,axisLine:!1,tickMargin:12,className:"text-xs font-medium"}),(0,t.jsx)(h,{cursor:{stroke:n.secondary,strokeWidth:1,strokeDasharray:"5 5"},content:(0,t.jsx)(g,{className:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-xl"}),formatter:e=>[e,"Contratos"],labelFormatter:o}),(0,t.jsx)(k.N,{dataKey:"amount",type:"monotone",stroke:n.secondary,strokeWidth:3,dot:{fill:n.secondary,strokeWidth:2,r:4},activeDot:{r:6,stroke:n.secondary,strokeWidth:2}})]})})})]}),(0,t.jsxs)(s.Zp,{children:[(0,t.jsx)(s.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-emerald-100 dark:bg-emerald-900/30",children:(0,t.jsx)(D.A,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.ZB,{className:"text-lg font-semibold",children:"Distribuci\xf3n de Usuarios"}),(0,t.jsx)(s.BT,{className:"text-sm",children:"Composici\xf3n actual del equipo"})]})]})}),(0,t.jsxs)(s.Wu,{className:"pt-6",children:[(0,t.jsx)(u,{config:c,className:"mx-auto aspect-square max-h-[300px]",children:(0,t.jsxs)(w.r,{children:[(0,t.jsx)(h,{cursor:!1,content:(0,t.jsx)(g,{hideLabel:!0,className:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-xl"})}),(0,t.jsx)(C.F,{data:x,dataKey:"value",nameKey:"name",innerRadius:70,outerRadius:120,strokeWidth:2,stroke:"hsl(var(--background))"})]})}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:x.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.fill}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",e.value,")"]})]},r))})]})]}),(0,t.jsxs)(s.Zp,{children:[(0,t.jsx)(s.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-amber-100 dark:bg-amber-900/30",children:(0,t.jsx)(E.A,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.ZB,{className:"text-lg font-semibold",children:"Estado de Entregables"}),(0,t.jsx)(s.BT,{className:"text-sm",children:"Progreso de todos los entregables"})]})]})}),(0,t.jsxs)(s.Wu,{className:"pt-6",children:[(0,t.jsx)(u,{config:m,className:"mx-auto aspect-square max-h-[300px]",children:(0,t.jsxs)(w.r,{children:[(0,t.jsx)(h,{cursor:!1,content:(0,t.jsx)(g,{hideLabel:!0,className:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-xl"})}),(0,t.jsx)(C.F,{data:b,dataKey:"value",nameKey:"name",innerRadius:70,outerRadius:120,strokeWidth:2,stroke:"hsl(var(--background))"})]})}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:b.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.fill}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",e.value,")"]})]},r))})]})]})]})}}},e=>{e.O(0,[9558,5041,5089,8034,2764,5838,915,1339,8441,5964,7358],()=>e(e.s=62603)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2007],{4516:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9446:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},13717:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},19420:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},28883:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},40646:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},45533:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Q});var r=a(95155),l=a(91165),t=a(19018),i=a(30285),n=a(22346),c=a(3501),d=a(23861),o=a(10464),m=a(47924),x=a(62523),u=a(59409),h=a(66695),p=a(5475);let j=e=>{let{filters:s,onFiltersChange:a,onClearFilters:l,isLoading:t=!1}=e,n=(e,r)=>{a({...s,[e]:r})},c=Object.values(s).some(e=>void 0!==e&&""!==e&&null!==e&&"all"!==e);return(0,r.jsx)(h.Zp,{children:(0,r.jsx)(h.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(x.p,{placeholder:"Buscar por nombre, email, documento...",value:s.search||"",onChange:e=>n("search",e.target.value),className:"pl-10",disabled:t})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(u.l6,{value:s.role||"all",onValueChange:e=>{"all"===e?n("role",void 0):n("role",e)},disabled:t,children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"Todos los roles"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"Todos los roles"}),(0,r.jsx)(u.eb,{value:p.gG.ADMIN,children:"Admin"}),(0,r.jsx)(u.eb,{value:p.gG.COLLABORATOR_INTERNAL,children:"Colaborador Interno"}),(0,r.jsx)(u.eb,{value:p.gG.COLLABORATOR_EXTERNAL,children:"Colaborador Externo"}),(0,r.jsx)(u.eb,{value:p.gG.RRHH,children:"RRHH"})]})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(u.l6,{value:void 0===s.isActive?"all":s.isActive.toString(),onValueChange:e=>{"all"===e?n("isActive",void 0):n("isActive","true"===e)},disabled:t,children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"Todos los estados"})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"Todos los estados"}),(0,r.jsx)(u.eb,{value:"true",children:"Activo"}),(0,r.jsx)(u.eb,{value:"false",children:"Inactivo"})]})]})}),(0,r.jsx)("div",{children:c&&(0,r.jsx)(i.$,{variant:"outline",onClick:l,disabled:t,className:"w-full",children:"Limpiar Filtros"})})]})})})};var v=a(43126),g=a(7930),f=a(17580),y=a(55670),N=a(9446);let A=()=>{let{data:e,isLoading:s}=(0,g.ZZ)();return(0,r.jsxs)(v.MD,{columns:3,children:[(0,r.jsx)(v.hI,{title:"Total Usuarios",value:(null==e?void 0:e.total)||0,subtitle:"Usuarios registrados",icon:f.A,variant:"default",loading:s}),(0,r.jsx)(v.hI,{title:"Usuarios Activos",value:(null==e?void 0:e.active)||0,subtitle:"Usuarios con acceso al sistema",icon:y.A,variant:"success",loading:s}),(0,r.jsx)(v.hI,{title:"Usuarios Inactivos",value:(null==e?void 0:e.inactive)||0,subtitle:"Usuarios sin acceso",icon:N.A,variant:"error",loading:s})]})};var b=a(12115),k=a(31455),w=a(13439),C=a(71007),M=a(28883),E=a(19420),R=a(81586),I=a(55868),O=a(92657),S=a(13717),D=a(62525),L=a(88889),P=a(90010),G=a(26126),T=a(54165),z=a(40646),U=a(54861),F=a(87949),H=a(48136),_=a(4516),q=a(19946);let B=(0,q.A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Z=(0,q.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var $=a(75525),K=a(69074);function V(e){var s,a;let{open:l,onOpenChange:t,user:i}=e;if(!i)return null;let n=(0,p.Pi)(i.role),c=(s=i.role,({[p.gG.SUPER_ADMIN]:{label:"Super Administrador",variant:"destructive",description:"Acceso total al sistema con permisos administrativos completos"},[p.gG.ADMIN]:{label:"Administrador",variant:"secondary",description:"Gesti\xf3n administrativa del sistema y usuarios"},[p.gG.COLLABORATOR_INTERNAL]:{label:"Colaborador Interno",variant:"default",description:"Colaborador con contrato interno de CECAGEM"},[p.gG.COLLABORATOR_EXTERNAL]:{label:"Colaborador Externo",variant:"outline",description:"Colaborador externo sin v\xednculo contractual directo"},[p.gG.RRHH]:{label:"Recursos Humanos",variant:"secondary",description:"Gesti\xf3n de personal y recursos humanos"}})[s]||{label:s,variant:"outline",description:"Rol personalizado"}),d=i.profile.university||i.profile.faculty||i.profile.career||i.profile.academicDegree;return(0,r.jsx)(T.lG,{open:l,onOpenChange:t,children:(0,r.jsxs)(T.Cf,{className:"sm:max-w-[700px] max-w-[95vw] max-h-[90vh] overflow-y-auto",onPointerDownOutside:e=>e.preventDefault(),children:[(0,r.jsxs)(T.c7,{className:"space-y-3",children:[(0,r.jsxs)(T.L3,{className:"flex items-center gap-3 text-xl",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:(0,r.jsx)(C.A,{className:"h-5 w-5 text-muted-foreground"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-semibold",children:[i.profile.firstName," ",i.profile.lastName]}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground font-normal",children:i.email})]})]}),(0,r.jsxs)(T.rr,{className:"flex items-center gap-2",children:[(0,r.jsx)(G.E,{variant:c.variant,className:"text-xs",children:c.label}),(0,r.jsx)(G.E,{variant:i.isActive?"default":"secondary",className:"text-xs",children:i.isActive?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),"Activo"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),"Inactivo"]})})]})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)(h.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(C.A,{className:"h-5 w-5 text-primary"}),"Informaci\xf3n Personal"]})}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:"Email:"}),(0,r.jsx)("span",{children:i.email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:"Tel\xe9fono:"}),(0,r.jsx)("span",{children:i.profile.phone})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:"Documento:"}),(0,r.jsxs)("span",{children:[i.profile.documentType," - ",i.profile.documentNumber]})]})]})})]}),(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)(h.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(F.A,{className:"h-5 w-5 text-primary"}),"Informaci\xf3n Acad\xe9mica"]})}),(0,r.jsx)(h.Wu,{children:d?(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[i.profile.university&&(0,r.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)(H.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Universidad:"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:i.profile.university})]})]}),i.profile.faculty&&(0,r.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Facultad:"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:i.profile.faculty})]})]}),i.profile.career&&(0,r.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)(B,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Carrera:"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:i.profile.career})]})]}),i.profile.academicDegree&&(0,r.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)(Z,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Grado Acad\xe9mico:"}),(0,r.jsx)("div",{className:"text-muted-foreground",children:i.profile.academicDegree})]})]})]}):(0,r.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"Sin informaci\xf3n acad\xe9mica registrada"})})]}),(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)(h.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)($.A,{className:"h-5 w-5 text-primary"}),"Rol y Permisos"]})}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(G.E,{variant:c.variant,children:c.label})}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:c.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:"Estado del usuario:"}),(0,r.jsx)(G.E,{variant:i.isActive?"default":"secondary",children:i.isActive?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),"Cuenta activa"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),"Cuenta inactiva"]})})]})]})})]}),n&&(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)(h.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(I.A,{className:"h-5 w-5 text-primary"}),"Informaci\xf3n de Contrato"]})}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:"Salario Mensual:"}),(0,r.jsx)("span",{className:"font-mono",children:(a=i.profile.salaryMonth)?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(a):"No definido"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(K.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:"Fecha de Pago:"}),(0,r.jsx)("span",{children:i.profile.paymentDate?(e=>{try{if(e.includes("T00:00:00")){let s=e.split("T")[0].split("-"),a=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2]));return(0,k.GP)(a,"dd 'de' MMMM 'de' yyyy",{locale:w.es})}return(0,k.GP)(new Date(e),"dd 'de' MMMM 'de' yyyy",{locale:w.es})}catch(e){return"Fecha inv\xe1lida"}})(i.profile.paymentDate):"No definida"})]})]})})]})]})]})})}function W(e){let{users:s,isLoading:a=!1,onEditUser:l,serverPagination:t=!1,paginationMeta:n,onPageChange:c,onPageSizeChange:d}=e,[o,m]=(0,b.useState)(null),[x,u]=(0,b.useState)(null),h=(0,g.iY)(),j=async()=>{if(o)try{await h.mutateAsync(o.id),m(null)}catch(e){console.error("Error al eliminar usuario:",e)}},v=e=>{try{let s=new Date(e);if(e.includes("T00:00:00")){let s=e.split("T")[0].split("-"),a=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2]));return(0,k.GP)(a,"dd/MM/yyyy",{locale:w.es})}return(0,k.GP)(s,"dd/MM/yyyy",{locale:w.es})}catch(e){return"Fecha inv\xe1lida"}},f=(0,b.useMemo)(()=>[{accessorKey:"profile",header:"Usuario",cell:e=>{let{row:s}=e;return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,r.jsx)(C.A,{className:"h-3 w-3 text-blue-500"}),s.original.profile.firstName," ",s.original.profile.lastName]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)(M.A,{className:"h-3 w-3"}),s.original.email]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)(E.A,{className:"h-3 w-3"}),s.original.profile.phone]})]})}},{accessorKey:"document",header:"Documento",cell:e=>{let{row:s}=e;return(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(R.A,{className:"h-3 w-3 text-gray-500"}),(0,r.jsx)("span",{className:"font-medium",children:s.original.profile.documentType})]}),(0,r.jsx)("div",{className:"text-muted-foreground",children:s.original.profile.documentNumber})]})}},{accessorKey:"academic",header:"Informaci\xf3n Acad\xe9mica",cell:e=>{let{row:s}=e,a=s.original.profile;return a.university||a.faculty||a.career||a.academicDegree?(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[a.university&&(0,r.jsxs)("div",{className:"truncate max-w-[200px]",title:a.university,children:[(0,r.jsx)("strong",{children:"Universidad:"})," ",a.university]}),a.faculty&&(0,r.jsxs)("div",{className:"truncate max-w-[200px]",title:a.faculty,children:[(0,r.jsx)("strong",{children:"Facultad:"})," ",a.faculty]}),a.career&&(0,r.jsxs)("div",{className:"truncate max-w-[200px]",title:a.career,children:[(0,r.jsx)("strong",{children:"Carrera:"})," ",a.career]}),a.academicDegree&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Grado:"})," ",a.academicDegree]})]}):(0,r.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"Sin informaci\xf3n acad\xe9mica"})}},{accessorKey:"role",header:"Rol",cell:e=>{let{row:s}=e;var a=s.original.role;let l={[p.gG.SUPER_ADMIN]:{label:"Super Admin",variant:"destructive"},[p.gG.ADMIN]:{label:"Admin",variant:"secondary"},[p.gG.COLLABORATOR_INTERNAL]:{label:"Colaborador Interno",variant:"default"},[p.gG.COLLABORATOR_EXTERNAL]:{label:"Colaborador Externo",variant:"outline"},[p.gG.RRHH]:{label:"RRHH",variant:"secondary"}}[a]||{label:a,variant:"outline"};return(0,r.jsx)(G.E,{variant:l.variant,className:"text-xs",children:l.label})}},{accessorKey:"contract",header:"Contrato",cell:e=>{var s;let{row:a}=e,l=a.original;return(0,p.Pi)(l.role)?(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[l.profile.salaryMonth?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(I.A,{className:"h-3 w-3 text-green-500"}),(0,r.jsx)("span",{className:"font-medium",children:(s=l.profile.salaryMonth)?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(s):"N/A"})]}):(0,r.jsx)("div",{className:"text-xs text-muted-foreground italic",children:"Sin salario definido"}),l.profile.paymentDate?(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Pago: ",v(l.profile.paymentDate)]}):(0,r.jsx)("div",{className:"text-xs text-muted-foreground italic",children:"Sin fecha de pago"})]}):(0,r.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"Sin contrato"})}},{accessorKey:"isActive",header:"Estado",cell:e=>{let s,{row:a}=e;return s=a.original.isActive,(0,r.jsx)(G.E,{variant:s?"default":"secondary",className:"text-xs",children:s?"Activo":"Inactivo"})}},{accessorKey:"createdAt",header:"Fecha Registro",cell:e=>{let{row:s}=e;return v(s.original.createdAt)}},{id:"actions",header:"Acciones",cell:e=>{let{row:s}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>u(s.original),className:"h-8 px-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Ver detalles",children:(0,r.jsx)(O.A,{className:"h-4 w-4"})}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>l(s.original),className:"h-8 px-2",title:"Editar usuario",children:(0,r.jsx)(S.A,{className:"h-4 w-4"})}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>m(s.original),className:"h-8 px-2 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Eliminar usuario",children:(0,r.jsx)(D.A,{className:"h-4 w-4"})})]})}}],[l]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(L.b,{columns:f,data:s,isLoading:a,title:"Usuarios",noDataMessage:"No se encontraron usuarios.",enablePagination:!0,enableSorting:!0,pageSize:10,serverPagination:t,paginationMeta:n,onPageChange:c,onPageSizeChange:d}),(0,r.jsx)(V,{open:!!x,onOpenChange:e=>!e&&u(null),user:x}),(0,r.jsx)(P.Lt,{open:!!o,onOpenChange:e=>!e&&m(null),children:(0,r.jsxs)(P.EO,{children:[(0,r.jsxs)(P.wd,{children:[(0,r.jsx)(P.r7,{children:"\xbfEst\xe1s seguro?"}),(0,r.jsxs)(P.$v,{children:["Esta acci\xf3n no se puede deshacer. Esto eliminar\xe1 permanentemente el usuario"," ",(0,r.jsxs)("strong",{children:[null==o?void 0:o.profile.firstName," ",null==o?void 0:o.profile.lastName]})," ","y todos sus datos asociados."]})]}),(0,r.jsxs)(P.ck,{children:[(0,r.jsx)(P.Zr,{children:"Cancelar"}),(0,r.jsx)(P.Rx,{onClick:j,className:"bg-red-600 hover:bg-red-700",disabled:h.isPending,children:h.isPending?"Eliminando...":"Eliminar"})]})]})})]})}var X=a(84616);function J(){let[e,s]=(0,b.useState)({page:1,limit:10,type:"users_system"}),[a,l]=(0,b.useState)(!1),[t,n]=(0,b.useState)(!1),[c,d]=(0,b.useState)(null),{data:m,isLoading:x,error:u,refetch:h}=(0,g.kp)(e),p=(null==m?void 0:m.data)||[],v=null==m?void 0:m.meta,f=(0,b.useCallback)(e=>{s(s=>({...s,page:e}))},[]),y=(0,b.useCallback)(e=>{s(s=>({...s,limit:e,page:1}))},[]),N=(0,b.useCallback)(e=>{s(s=>({...s,...e,page:1,type:"users_system"}))},[]),k=(0,b.useCallback)(()=>{s({page:1,limit:10,type:"users_system"})},[]),w=()=>{l(!1),n(!1),d(null),h()};return u?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuarios del Sistema"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los usuarios del sistema y sus permisos"})]})}),(0,r.jsxs)("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"Error al cargar los usuarios del sistema"}),(0,r.jsx)(i.$,{onClick:()=>h(),variant:"outline",children:"Reintentar"})]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuarios del Sistema"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los usuarios del sistema y sus permisos"})]}),(0,r.jsxs)(i.$,{className:"text-white w-full sm:w-auto",onClick:()=>{d(null),l(!0)},children:[(0,r.jsx)(X.A,{className:"mr-2 h-4 w-4"}),"Nuevo Usuario"]})]}),(0,r.jsx)(A,{}),(0,r.jsx)(j,{filters:e,onFiltersChange:N,onClearFilters:k}),(0,r.jsx)(W,{users:p,isLoading:x,onEditUser:e=>{d(e),n(!0)},serverPagination:!0,paginationMeta:v,onPageChange:f,onPageSizeChange:y}),(0,r.jsx)(o.q,{open:a,onOpenChange:l,onUserSaved:w,user:c,mode:"create"}),(0,r.jsx)(o.q,{open:t,onOpenChange:n,onUserSaved:w,user:c,mode:"edit"})]})}function Q(){return(0,r.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,r.jsxs)("header",{className:"bg-background/60 backdrop-blur-md sticky top-0 z-50 flex h-12 shrink-0 items-center gap-2 border-b px-4",children:[(0,r.jsx)(c.SidebarTrigger,{className:"-ml-1"}),(0,r.jsx)(n.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(t.Qp,{children:(0,r.jsx)(t.AB,{children:(0,r.jsx)(t.J5,{children:(0,r.jsx)(t.tJ,{children:"Usuarios del Sistema"})})})})}),(0,r.jsxs)("div",{className:"ml-auto mr-4",children:[(0,r.jsx)(l.default,{}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon","aria-label":"Notificaciones",className:"mr-2",children:(0,r.jsx)(d.A,{className:"h-5 w-5"})})]})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-4 md:p-6",children:(0,r.jsx)(J,{})})]})}a(64328)},46910:(e,s,a)=>{Promise.resolve().then(a.bind(a,45533))},48136:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},54861:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},55670:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},55868:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},71007:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},81586:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},87949:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(19946).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])}},e=>{e.O(0,[9558,5041,8859,5089,221,8034,2764,5838,7632,2896,3240,1339,8403,8889,3794,464,8441,5964,7358],()=>e(e.s=46910)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{36040:(e,s,a)=>{"use strict";a.d(s,{V:()=>l});var i=a(90697);class r{async getServices(e){let s=new URLSearchParams;(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&s.append("search",e.search),(null==e?void 0:e.isActive)!==void 0&&s.append("isActive",e.isActive.toString());let a=s.toString(),r=a?"".concat(this.baseEndpoint,"?").concat(a):this.baseEndpoint;return await i.q.get(r)}async getServiceById(e){return await i.q.get("".concat(this.baseEndpoint,"/").concat(e))}async createService(e){return await i.q.post(this.baseEndpoint,e)}async updateService(e,s){return await i.q.patch("".concat(this.baseEndpoint,"/").concat(e),s)}async deleteService(e){return await i.q.delete("".concat(this.baseEndpoint,"/").concat(e))}async getDeliverablesByServiceId(e){return await i.q.get("".concat(this.baseEndpoint,"/").concat(e,"/deliverables"))}constructor(){this.baseEndpoint="/engagements"}}let t=new r,l={getServices:e=>t.getServices(e),getServiceById:e=>t.getServiceById(e),createService:e=>t.createService(e),updateService:(e,s)=>t.updateService(e,s),deleteService:e=>t.deleteService(e),getDeliverablesByServiceId:e=>t.getDeliverablesByServiceId(e)}},75873:(e,s,a)=>{Promise.resolve().then(a.bind(a,84442))},78534:(e,s,a)=>{"use strict";a.d(s,{A$:()=>o,EQ:()=>u,Rv:()=>d,iM:()=>m,if:()=>x});var i=a(95838),r=a(26715),t=a(5041),l=a(36040),n=a(87481);let c={all:["engagements"],lists:()=>[...c.all,"list"],list:e=>[...c.lists(),e],details:()=>[...c.all,"detail"],detail:e=>[...c.details(),e],deliverables:()=>[...c.all,"deliverables"],deliverablesList:e=>[...c.deliverables(),e]},o=e=>(0,i.useQuery)({queryKey:c.list(e),queryFn:()=>l.V.getServices(e),refetchOnWindowFocus:!0,staleTime:0}),d=()=>{let e=(0,r.useQueryClient)(),{showSuccess:s,showError:a}=(0,n.d)();return(0,t.useMutation)({mutationFn:l.V.createService,onSuccess:()=>{s("created",{title:"Servicio creado",description:"El servicio  ha sido creado exitosamente."}),e.invalidateQueries({queryKey:c.lists()}),e.invalidateQueries({queryKey:["all-services-for-select"]}),e.invalidateQueries({queryKey:["services-for-select"]})},onError:e=>{console.error("Error creating service:",e),a("error",{title:"Error creando servicio",description:"No se pudo crear el servicio: ".concat(e.message)})}})},m=()=>{let e=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>{let{serviceId:s,serviceData:a}=e;return l.V.updateService(s,a)},onSuccess:(s,a)=>{e.invalidateQueries({queryKey:c.lists()}),e.invalidateQueries({queryKey:c.detail(a.serviceId)}),e.invalidateQueries({queryKey:["all-services-for-select"]}),e.invalidateQueries({queryKey:["services-for-select"]})},onError:e=>{console.error("Error updating service:",e)}})},x=()=>{let e=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:l.V.deleteService,onSuccess:()=>{e.invalidateQueries({queryKey:c.lists()}),e.invalidateQueries({queryKey:["all-services-for-select"]}),e.invalidateQueries({queryKey:["services-for-select"]})},onError:e=>{console.error("Error deleting service:",e)}})},u=e=>(0,i.useQuery)({queryKey:c.deliverablesList(e),queryFn:()=>l.V.getDeliverablesByServiceId(e),enabled:!!e,staleTime:3e5,gcTime:6e5})},84442:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var i=a(95155),r=a(91165),t=a(19018),l=a(30285),n=a(22346),c=a(3501),o=a(23861);let d={page:1,limit:10},m={ACTIVE:"bg-green-100 text-green-800 border-green-200",INACTIVE:"bg-red-100 text-red-800 border-red-200"};a(36040);var x=a(78534),u=a(73162);let h=e=>e?m.ACTIVE:m.INACTIVE,p=e=>e?"Activo":"Inactivo",v=e=>new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),j=e=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e),g=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=s?e:e.substring(0,s)+"..."},f=u.Ik({name:u.Yj().min(1,"El nombre es requerido").min(3,"El nombre debe tener al menos 3 caracteres").max(100,"El nombre no puede exceder 100 caracteres"),description:u.Yj().min(1,"La descripci\xf3n es requerida").min(10,"La descripci\xf3n debe tener al menos 10 caracteres").max(500,"La descripci\xf3n no puede exceder 500 caracteres"),basePrice:u.ai().min(.01,"El precio debe ser mayor a 0").max(1e5,"El precio no puede exceder S/. 100,000")}),N=u.Ik({name:u.Yj().min(3,"El nombre debe tener al menos 3 caracteres").max(100,"El nombre no puede exceder 100 caracteres").optional(),description:u.Yj().min(10,"La descripci\xf3n debe tener al menos 10 caracteres").max(500,"La descripci\xf3n no puede exceder 500 caracteres").optional(),basePrice:u.ai().min(.01,"El precio debe ser mayor a 0").max(1e5,"El precio no puede exceder S/. 100,000").optional(),isActive:u.zM().optional()});var b=a(12115),w=a(66695),y=a(26126),E=a(68856),C=a(84616),S=a(53904),A=a(381),I=a(92657),P=a(13717),k=a(62525),z=a(52278),D=a(42355),R=a(13052),q=a(12767),L=a(87481),B=a(62177),$=a(90221),M=a(54165),O=a(17759),T=a(62523),V=a(88539);function Q(e){let{open:s,onOpenChange:a}=e,r=(0,x.Rv)(),t=(0,B.mN)({resolver:(0,$.u)(f),defaultValues:{name:"",description:"",basePrice:0}}),n=async e=>{try{await r.mutateAsync(e),t.reset(),a(!1)}catch(e){console.error("Error creating service:",e)}},c=()=>{t.reset(),a(!1)};return(0,i.jsx)(M.lG,{open:s,onOpenChange:c,children:(0,i.jsxs)(M.Cf,{className:"sm:max-w-[600px] max-w-[95vw] max-h-[90vh] overflow-y-auto",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,i.jsxs)(M.c7,{className:"border-b pb-4",children:[(0,i.jsx)(M.L3,{children:"Crear Nuevo Servicio"}),(0,i.jsx)(M.rr,{children:"Completa los campos para crear un nuevo servicio de consultor\xeda."})]}),(0,i.jsx)(O.lV,{...t,children:(0,i.jsxs)("form",{onSubmit:t.handleSubmit(n),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Informaci\xf3n del Servicio"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,i.jsx)(O.zB,{control:t.control,name:"name",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Nombre del Servicio *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(T.p,{placeholder:"Ej: Plan de Tesis, Art\xedculo Cient\xedfico...",...s})}),(0,i.jsx)(O.C5,{})]})}}),(0,i.jsx)(O.zB,{control:t.control,name:"description",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Descripci\xf3n *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(V.T,{placeholder:"Describe el servicio que se ofrecer\xe1...",rows:4,...s})}),(0,i.jsx)(O.C5,{})]})}}),(0,i.jsx)(O.zB,{control:t.control,name:"basePrice",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Precio Base (S/.) *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(T.p,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...s,value:s.value||"",onChange:e=>s.onChange(parseFloat(e.target.value)||0)})}),(0,i.jsx)(O.C5,{})]})}})]})]}),(0,i.jsxs)(M.Es,{className:"gap-2 border-t pt-4",children:[(0,i.jsx)(l.$,{type:"button",variant:"outline",onClick:c,disabled:r.isPending,className:"w-full sm:w-auto",children:"Cancelar"}),(0,i.jsx)(l.$,{type:"submit",disabled:r.isPending,className:"w-full sm:w-auto",children:r.isPending?"Creando...":"Crear Servicio"})]})]})})]})})}function Z(e){let{open:s,onOpenChange:a,service:r}=e,t=(0,x.iM)(),{showSuccess:n,showError:c}=(0,L.d)(),o=(0,B.mN)({resolver:(0,$.u)(N),defaultValues:{name:"",description:"",basePrice:0,isActive:!0}});(0,b.useEffect)(()=>{r&&s&&o.reset({name:r.name||"",description:r.description||"",basePrice:Number(r.basePrice)||0,isActive:!!r.isActive})},[r,o,s]);let d=async e=>{if(r)try{await t.mutateAsync({serviceId:r.id,serviceData:{...e,basePrice:Number(e.basePrice)}}),n("updated",{title:"Servicio actualizado",description:"El servicio ha sido actualizado exitosamente."}),a(!1)}catch(e){console.error("Error updating service:",e),c("error",{title:"Error",description:"No se pudo actualizar el servicio. Int\xe9ntalo de nuevo."})}},m=()=>{a(!1)};return(0,i.jsxs)(M.lG,{open:s,onOpenChange:e=>{e?a(!0):m()},children:[" ",(0,i.jsxs)(M.Cf,{className:"sm:max-w-[600px] max-w-[95vw] max-h-[90vh] overflow-y-auto",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,i.jsxs)(M.c7,{className:"border-b pb-4",children:[(0,i.jsx)(M.L3,{children:"Editar Servicio"}),(0,i.jsx)(M.rr,{children:"Modifica los datos del servicio seleccionado."})]}),r?(0,i.jsx)(O.lV,{...o,children:(0,i.jsxs)("form",{onSubmit:o.handleSubmit(d),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Informaci\xf3n del Servicio"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,i.jsx)(O.zB,{control:o.control,name:"name",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Nombre del Servicio *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(T.p,{placeholder:"Ej: Plan de Tesis, Art\xedculo Cient\xedfico...",...s})}),(0,i.jsx)(O.C5,{})]})}}),(0,i.jsx)(O.zB,{control:o.control,name:"description",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Descripci\xf3n *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(V.T,{placeholder:"Describe el servicio que se ofrecer\xe1...",rows:4,...s})}),(0,i.jsx)(O.C5,{})]})}}),(0,i.jsx)(O.zB,{control:o.control,name:"basePrice",render:e=>{let{field:s}=e;return(0,i.jsxs)(O.eI,{children:[(0,i.jsx)(O.lR,{children:"Precio Base (S/.) *"}),(0,i.jsx)(O.MJ,{children:(0,i.jsx)(T.p,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:s.value||"",onChange:e=>{let a=e.target.value;s.onChange(""===a?0:Number(a))}})}),(0,i.jsx)(O.C5,{})]})}})]})]}),(0,i.jsxs)(M.Es,{className:"gap-2 border-t pt-4",children:[(0,i.jsx)(l.$,{type:"button",variant:"outline",onClick:m,disabled:t.isPending,className:"w-full sm:w-auto",children:"Cancelar"}),(0,i.jsx)(l.$,{type:"submit",disabled:t.isPending,className:"w-full sm:w-auto",children:t.isPending?"Actualizando...":"Actualizar Servicio"})]})]})}):(0,i.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,i.jsx)("span",{className:"text-muted-foreground",children:"No hay datos del servicio disponibles."})})]})]})}var F=a(90010);function K(e){let{open:s,onOpenChange:a,onConfirm:r,isLoading:t}=e;return(0,i.jsx)(F.Lt,{open:s,onOpenChange:a,children:(0,i.jsxs)(F.EO,{className:"sm:max-w-[500px] max-w-[95vw]",children:[(0,i.jsxs)(F.wd,{children:[(0,i.jsxs)(F.r7,{className:"flex items-center gap-2",children:[(0,i.jsx)(k.A,{className:"h-5 w-5 text-red-600"}),"\xbfEliminar servicio?"]}),(0,i.jsxs)(F.$v,{children:["Esta acci\xf3n no se puede deshacer. El servicio ser\xe1 eliminado permanentemente del sistema.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"\xbfEst\xe1s seguro de que deseas continuar?"})]})]}),(0,i.jsxs)(F.ck,{className:"gap-2",children:[(0,i.jsx)(F.Zr,{disabled:t,children:"Cancelar"}),(0,i.jsx)(F.Rx,{onClick:r,disabled:t,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:t?"Eliminando...":"Eliminar"})]})]})})}function W(e){let{open:s,onOpenChange:a,service:r}=e;return(0,i.jsx)(M.lG,{open:s,onOpenChange:a,children:(0,i.jsxs)(M.Cf,{className:"sm:max-w-[600px] max-w-[95vw] max-h-[90vh] overflow-y-auto",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,i.jsxs)(M.c7,{className:"border-b pb-4",children:[(0,i.jsx)(M.L3,{children:"Detalles del Servicio"}),(0,i.jsx)(M.rr,{children:"Informaci\xf3n completa del servicio seleccionado."})]}),r?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(w.Zp,{children:[(0,i.jsx)(w.aR,{children:(0,i.jsxs)(w.ZB,{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{children:"Informaci\xf3n B\xe1sica"}),(0,i.jsx)(y.E,{variant:"secondary",className:h(r.isActive),children:p(r.isActive)})]})}),(0,i.jsxs)(w.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"NOMBRE"}),(0,i.jsx)("p",{className:"text-base font-medium",children:r.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"DESCRIPCI\xd3N"}),(0,i.jsx)("p",{className:"text-sm leading-relaxed",children:r.description})]})]})]}),(0,i.jsxs)(w.Zp,{children:[(0,i.jsx)(w.aR,{children:(0,i.jsx)(w.ZB,{children:"Informaci\xf3n Financiera"})}),(0,i.jsx)(w.Wu,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"PRECIO BASE"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-green-600",children:j(r.basePrice)})]})})]}),(0,i.jsxs)(w.Zp,{children:[(0,i.jsx)(w.aR,{children:(0,i.jsx)(w.ZB,{children:"Informaci\xf3n de Auditor\xeda"})}),(0,i.jsx)(w.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"FECHA DE CREACI\xd3N"}),(0,i.jsx)("p",{className:"text-sm",children:v(r.createdAt)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"\xdaLTIMA ACTUALIZACI\xd3N"}),(0,i.jsx)("p",{className:"text-sm",children:v(r.updatedAt)})]})]})})]}),(0,i.jsx)(M.Es,{className:"gap-2 border-t pt-4",children:(0,i.jsx)(l.$,{variant:"outline",onClick:()=>a(!1),className:"w-full sm:w-auto",children:"Cerrar"})})]}):(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"No hay datos del servicio disponibles"})})]})})}var J=a(59409),G=a(47924),_=a(54416);let Y=e=>{let{filters:s,onFiltersChange:a,onClearFilters:r}=e,t=s.search||void 0!==s.isActive;return(0,i.jsx)(w.Zp,{children:(0,i.jsx)(w.Wu,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(G.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,i.jsx)(T.p,{placeholder:"Buscar por nombre o descripci\xf3n...",value:s.search||"",onChange:e=>{a({search:e.target.value,page:1})},className:"pl-10"})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)(J.l6,{value:void 0===s.isActive?"all":s.isActive?"true":"false",onValueChange:e=>{a({isActive:"all"===e?void 0:"true"===e,page:1})},children:[(0,i.jsx)(J.bq,{children:(0,i.jsx)(J.yv,{placeholder:"Todos"})}),(0,i.jsxs)(J.gC,{children:[(0,i.jsx)(J.eb,{value:"all",children:"Todos"}),(0,i.jsx)(J.eb,{value:"true",children:"Activos"}),(0,i.jsx)(J.eb,{value:"false",children:"Inactivos"})]})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)(l.$,{variant:"outline",onClick:()=>{r?r():a({search:"",isActive:void 0,page:1})},disabled:!t,className:"w-full",children:[(0,i.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Limpiar Filtros"]})})]})})})};function H(){let{showSuccess:e,showError:s}=(0,L.d)(),[a,r]=(0,b.useState)({...d,isActive:void 0}),[t,n]=(0,b.useState)(!1),[c,o]=(0,b.useState)(!1),[m,u]=(0,b.useState)(!1),[f,N]=(0,b.useState)(!1),[B,$]=(0,b.useState)(""),[M,O]=(0,b.useState)(null),{data:T,isLoading:V,error:F,refetch:J}=(0,x.A$)(a),G=(0,x.if)(),_=(null==T?void 0:T.data)||[],H=null==T?void 0:T.meta,U=e=>{r(s=>({...s,...e}))},X=async()=>{if(B)try{await G.mutateAsync(B),e("deleted",{title:"Servicio eliminado",description:"El servicio ha sido eliminado exitosamente."}),u(!1),$("")}catch(e){s("error",{title:"Error",description:"No se pudo eliminar el servicio. Int\xe9ntalo de nuevo."})}},ee=e=>{U({page:e})},es=!!H&&(void 0!==H.hasPrevious?H.hasPrevious:H.page>1),ea=!!H&&(void 0!==H.hasNext?H.hasNext:H.page<H.totalPages);return V?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Servicios"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los servicios de consultor\xeda disponibles"})]}),(0,i.jsxs)(l.$,{disabled:!0,className:"w-full sm:w-auto",children:[(0,i.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Nuevo Servicio"]})]}),(0,i.jsx)(Y,{filters:a,onFiltersChange:U}),(0,i.jsx)(()=>(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,s)=>(0,i.jsxs)(w.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,i.jsx)(w.aR,{children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,i.jsx)(E.E,{className:"h-6 w-3/4"}),(0,i.jsx)(E.E,{className:"h-4 w-full"}),(0,i.jsx)(E.E,{className:"h-4 w-2/3"})]}),(0,i.jsx)(E.E,{className:"h-6 w-16"})]})}),(0,i.jsx)(w.Wu,{children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(E.E,{className:"h-8 w-24"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)(E.E,{className:"h-4 w-32"}),(0,i.jsx)(E.E,{className:"h-4 w-36"})]})]})}),(0,i.jsx)(w.wL,{className:"pt-0",children:(0,i.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,i.jsx)(E.E,{className:"h-9 flex-1"}),(0,i.jsx)(E.E,{className:"h-9 flex-1"}),(0,i.jsx)(E.E,{className:"h-9 w-9"})]})})]},s))}),{})]}):F?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Servicios"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los servicios de consultor\xeda disponibles"})]}),(0,i.jsxs)(l.$,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[(0,i.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Nuevo Servicio"]})]}),(0,i.jsx)(w.Zp,{children:(0,i.jsx)(w.Wu,{className:"py-8",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,i.jsx)(S.A,{className:"h-12 w-12 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Error al cargar los servicios"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:"Hubo un problema al cargar la lista de servicios."})]}),(0,i.jsxs)(l.$,{onClick:()=>J(),variant:"outline",children:[(0,i.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})})})]}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Servicios"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Gestiona los servicios de consultor\xeda disponibles"})]}),(0,i.jsxs)(l.$,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[(0,i.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Nuevo Servicio"]})]}),(0,i.jsx)(Y,{filters:a,onFiltersChange:U,onClearFilters:()=>{r({...d,isActive:void 0})}}),0===_.length?(0,i.jsx)(w.Zp,{children:(0,i.jsx)(w.Wu,{className:"py-8",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(A.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No hay servicios"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:"No se encontraron servicios con los filtros aplicados."}),(0,i.jsxs)(l.$,{onClick:()=>n(!0),children:[(0,i.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Crear Primer Servicio"]})]})})}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,i.jsxs)(w.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,i.jsx)(w.aR,{children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(w.ZB,{className:"text-lg",children:e.name}),(0,i.jsx)(w.BT,{className:"mt-1",children:g(e.description,80)})]}),(0,i.jsx)(y.E,{variant:"secondary",className:h(e.isActive),children:p(e.isActive)})]})}),(0,i.jsx)(w.Wu,{children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-primary",children:j(e.basePrice)}),(0,i.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Creado:"})," ",v(e.createdAt)]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Actualizado:"})," ",v(e.updatedAt)]})]})]})}),(0,i.jsx)(w.wL,{className:"pt-0",children:(0,i.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,i.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{O(e),$(e.id),N(!0)},className:"flex-1",children:[(0,i.jsx)(I.A,{className:"h-4 w-4 mr-1"}),"Ver"]}),(0,i.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{O(e),$(e.id),o(!0)},className:"flex-1",children:[(0,i.jsx)(P.A,{className:"h-4 w-4 mr-1"}),"Editar"]}),(0,i.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{$(e.id),u(!0)},className:"text-red-600 hover:text-red-700",children:(0,i.jsx)(k.A,{className:"h-4 w-4"})})]})})]},e.id))}),H&&_.length>0&&(0,i.jsx)("div",{className:"pt-4 border-t",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-sm order-2 sm:order-1",children:[(0,i.jsx)("span",{className:"text-muted-foreground",children:"Mostrar:"}),(0,i.jsxs)("select",{value:a.limit,onChange:e=>{U({page:1,limit:Number(e.target.value)})},className:"h-8 px-2 text-sm border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,i.jsx)("option",{value:5,children:"5"}),(0,i.jsx)("option",{value:10,children:"10"}),(0,i.jsx)("option",{value:20,children:"20"}),(0,i.jsx)("option",{value:50,children:"50"})]}),(0,i.jsx)("span",{className:"text-muted-foreground",children:"por p\xe1gina"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1 order-1 sm:order-2",children:[(0,i.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{H&&H.page>1&&ee(1)},disabled:!es,className:"h-8 w-8 p-0",title:"Primera p\xe1gina",children:(0,i.jsx)(z.A,{className:"h-4 w-4"})}),(0,i.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{H&&H.page>1&&ee(H.page-1)},disabled:!es,className:"h-8 px-3",title:"P\xe1gina anterior",children:[(0,i.jsx)(D.A,{className:"h-4 w-4 mr-1"}),(0,i.jsx)("span",{className:"hidden md:inline",children:"Anterior"})]}),(0,i.jsx)("div",{className:"flex items-center px-3",children:(0,i.jsxs)("span",{className:"text-sm font-medium whitespace-nowrap",children:[H.page," / ",H.totalPages||Math.ceil(H.total/a.limit)]})}),(0,i.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{H&&H.page<H.totalPages&&ee(H.page+1)},disabled:!ea,className:"h-8 px-3",title:"P\xe1gina siguiente",children:[(0,i.jsx)("span",{className:"hidden md:inline",children:"Siguiente"}),(0,i.jsx)(R.A,{className:"h-4 w-4 ml-1"})]}),(0,i.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{H&&H.page<H.totalPages&&ee(H.totalPages)},disabled:!ea,className:"h-8 w-8 p-0",title:"\xdaltima p\xe1gina",children:(0,i.jsx)(q.A,{className:"h-4 w-4"})})]}),(0,i.jsx)("div",{className:"flex justify-center sm:justify-end order-3",children:(0,i.jsxs)("div",{className:"text-sm text-muted-foreground text-center sm:text-right",children:["Mostrando ",(H.page-1)*a.limit+1," a"," ",Math.min(H.page*a.limit,H.total)," de ",H.total]})})]})}),(0,i.jsx)(Q,{open:t,onOpenChange:n}),(0,i.jsx)(Z,{open:c,onOpenChange:o,service:M}),(0,i.jsx)(K,{open:m,onOpenChange:u,onConfirm:X,isLoading:G.isPending}),(0,i.jsx)(W,{open:f,onOpenChange:N,service:M})]})}function U(){return(0,i.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,i.jsxs)("header",{className:"bg-background/60 backdrop-blur-md sticky top-0 z-50 flex h-12 shrink-0 items-center gap-2 border-b px-4",children:[(0,i.jsx)(c.SidebarTrigger,{className:"-ml-1"}),(0,i.jsx)(n.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(t.Qp,{children:(0,i.jsx)(t.AB,{children:(0,i.jsx)(t.J5,{children:(0,i.jsx)(t.tJ,{children:"Gesti\xf3n de Servicios"})})})})}),(0,i.jsxs)("div",{className:"ml-auto mr-4",children:[(0,i.jsx)(r.default,{}),(0,i.jsx)(l.$,{variant:"ghost",size:"icon","aria-label":"Notificaciones",className:"mr-2",children:(0,i.jsx)(o.A,{className:"h-5 w-5"})})]})]}),(0,i.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-4 md:p-6",children:(0,i.jsx)(H,{})})]})}},87481:(e,s,a)=>{"use strict";a.d(s,{d:()=>d});var i=a(12115),r=a(56671),t=a(43453),l=a(85339),n=a(1243),c=a(81284);let o={success:{created:{title:"\xa1Operaci\xf3n exitosa!",description:"El elemento ha sido creado correctamente."},updated:{title:"\xa1Actualizaci\xf3n exitosa!",description:"Los cambios han sido guardados correctamente."},deleted:{title:"\xa1Eliminaci\xf3n exitosa!",description:"El elemento ha sido eliminado del sistema."}},error:{error:{title:"Error en la operaci\xf3n",description:"Ha ocurrido un problema. Por favor intenta nuevamente."},created:{title:"Error al crear",description:"No se pudo crear el elemento. Verifica los datos e intenta nuevamente."},updated:{title:"Error al actualizar",description:"No se pudieron guardar los cambios. Intenta nuevamente."},deleted:{title:"Error al eliminar",description:"No se pudo eliminar el elemento. Intenta nuevamente."}},warning:{created:{title:"Creado con advertencias",description:"La operaci\xf3n se complet\xf3 pero hay algunos aspectos a revisar."},updated:{title:"Actualizado con advertencias",description:"Los cambios se guardaron pero hay algunos aspectos a revisar."},deleted:{title:"Eliminado con advertencias",description:"La eliminaci\xf3n se complet\xf3 pero hay algunos aspectos a revisar."}},info:{created:{title:"Informaci\xf3n",description:"El elemento ha sido creado. Revisa los detalles adicionales."},updated:{title:"Informaci\xf3n",description:"Los cambios han sido aplicados. Revisa los detalles."},deleted:{title:"Informaci\xf3n",description:"El elemento ha sido eliminado del sistema."}}};function d(){let e=(e,s,a)=>{var d;let m=s&&(null==(d=o[e])?void 0:d[s]),x=(null==a?void 0:a.title)||(null==m?void 0:m.title)||"Notificaci\xf3n",u={description:(null==a?void 0:a.description)||(null==m?void 0:m.description),duration:(null==a?void 0:a.duration)||4e3,icon:i.createElement(function(e){switch(e){case"success":return t.A;case"error":return l.A;case"warning":return n.A;default:return c.A}}(e),{className:"h-4 w-4"})};switch(e){case"success":r.oR.success(x,u);break;case"error":r.oR.error(x,u);break;case"warning":r.oR.warning(x,u);break;case"info":r.oR.info(x,u);break;default:(0,r.oR)(x,u)}};return{showToast:e,showSuccess:(s,a)=>{e("success",s,a)},showError:(s,a)=>{e("error",s,a)},showWarning:(s,a)=>{e("warning",s,a)},showInfo:(s,a)=>{e("info",s,a)},showCustomSuccess:(s,a,i)=>{e("success",void 0,{title:s,description:a,duration:i})},showCustomError:(s,a,i)=>{e("error",void 0,{title:s,description:a,duration:i})},showCustomWarning:(s,a,i)=>{e("warning",void 0,{title:s,description:a,duration:i})},showCustomInfo:(s,a,i)=>{e("info",void 0,{title:s,description:a,duration:i})}}}},88539:(e,s,a)=>{"use strict";a.d(s,{T:()=>t});var i=a(95155);a(12115);var r=a(59434);function t(e){let{className:s,...a}=e;return(0,i.jsx)("textarea",{className:(0,r.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}},90010:(e,s,a)=>{"use strict";a.d(s,{$v:()=>p,EO:()=>m,Lt:()=>n,Rx:()=>v,Zr:()=>j,ck:()=>u,r7:()=>h,tv:()=>c,wd:()=>x});var i=a(95155);a(12115);var r=a(475),t=a(59434),l=a(30285);function n(e){let{...s}=e;return(0,i.jsx)(r.bL,{"data-slot":"alert-dialog",...s})}function c(e){let{...s}=e;return(0,i.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...s})}function o(e){let{...s}=e;return(0,i.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...s})}function d(e){let{className:s,...a}=e;return(0,i.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,t.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function m(e){let{className:s,...a}=e;return(0,i.jsxs)(o,{children:[(0,i.jsx)(d,{}),(0,i.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,t.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a})]})}function x(e){let{className:s,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,t.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function u(e){let{className:s,...a}=e;return(0,i.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,t.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function h(e){let{className:s,...a}=e;return(0,i.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,t.cn)("text-lg font-semibold",s),...a})}function p(e){let{className:s,...a}=e;return(0,i.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,t.cn)("text-muted-foreground text-sm",s),...a})}function v(e){let{className:s,...a}=e;return(0,i.jsx)(r.rc,{className:(0,t.cn)((0,l.r)(),s),...a})}function j(e){let{className:s,...a}=e;return(0,i.jsx)(r.ZD,{className:(0,t.cn)((0,l.r)({variant:"outline"}),s),...a})}}},e=>{e.O(0,[9558,5041,8859,5089,221,8034,2764,5838,471,1339,8403,8441,5964,7358],()=>e(e.s=75873)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4012],{12698:(e,t,a)=>{Promise.resolve().then(a.bind(a,93749))},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(95155);a(12115);var l=a(40968),r=a(59434);function i(e){let{className:t,...a}=e;return(0,s.jsx)(l.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},93749:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var s=a(95155),l=a(12115),r=a(65895),i=a(73783),n=a(14395),o=a(381),d=a(37108),c=a(23227),u=a(48136),m=a(17580),x=a(55868),p=a(69074),f=a(72713),j=a(3501),h=a(66766),g=a(22346);function v(e){let{currentRole:t}=e,{state:a}=(0,j.cL)();return(0,s.jsx)(j.wZ,{children:(0,s.jsxs)(j.FX,{children:[(0,s.jsx)(j.Uj,{size:"lg",className:"cursor-default flex flex-row items-center justify-between w-full",children:"collapsed"===a?(0,s.jsx)("div",{className:"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg",children:(0,s.jsx)(t.logo,{className:"size-4"})}):(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center w-full",children:[(0,s.jsx)(h.default,{src:"/image/logos/logocecagem.png",alt:"CECAGEM logo",width:150,height:150,className:"block dark:hidden"}),(0,s.jsx)(h.default,{src:"/image/logos/logoblanco.png",alt:"CECAGEM logo",width:150,height:150,className:"hidden dark:block"})]})}),(0,s.jsx)(g.Separator,{orientation:"horizontal",className:"mt-2"})]})})}var b=a(35695),N=a(13052),A=a(88106);function w(e){let{...t}=e;return(0,s.jsx)(A.bL,{"data-slot":"collapsible",...t})}function y(e){let{...t}=e;return(0,s.jsx)(A.R6,{"data-slot":"collapsible-trigger",...t})}function C(e){let{...t}=e;return(0,s.jsx)(A.Ke,{"data-slot":"collapsible-content",...t})}let R=e=>Array.isArray(e.items),E=(e,t)=>{var a;return R(e)?t===e.url||(null==(a=e.items)?void 0:a.some(e=>E(e,t)))||!1:t===e.url},L=(0,l.forwardRef)((e,t)=>{let{url:a,title:l,icon:r,isActive:i,onNavigate:n}=e;return(0,s.jsxs)(j.Uj,{ref:t,tooltip:l,variant:i?"outline":"default",onClick:()=>n(a),className:i?"border border-primary/30":void 0,children:[r&&(0,s.jsx)(r,{className:i?"text-primary":void 0}),(0,s.jsx)("span",{children:l})]})});L.displayName="NavButton";let _=(0,l.memo)(e=>{var t;let{item:a,pathname:r,onNavigate:i}=e,n=(0,l.useMemo)(()=>E(a,r),[a,r]),o=(0,l.useMemo)(()=>{var e,t;return null!=(t=null==(e=a.items)?void 0:e.some(e=>E(e,r)))&&t},[a,r]);return(0,s.jsx)(w,{defaultOpen:n,asChild:!0,children:(0,s.jsxs)(j.FX,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(j.Uj,{tooltip:a.title,variant:o?"outline":"default",className:"group/collapsible ".concat(o?"bg-background text-accent-foreground border border-primary/30":""),children:[a.icon&&(0,s.jsx)(a.icon,{className:"".concat(o?"text-primary":"")}),(0,s.jsx)("span",{children:a.title}),(0,s.jsx)(N.A,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),(0,s.jsx)(C,{className:"overflow-hidden data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",children:(0,s.jsx)(j.q9,{children:null==(t=a.items)?void 0:t.map(e=>(0,s.jsx)(k,{item:e,pathname:r,onNavigate:i},e.url))})})]})})});_.displayName="NavCollapsible",(0,l.memo)(e=>{let{item:t,pathname:a,onNavigate:l}=e;return(0,s.jsx)(j.Fg,{children:(0,s.jsx)(j.Cp,{onClick:()=>l(t.url),className:a===t.url?"bg-accent":void 0,children:t.title})})}).displayName="NavLeafItem";let k=(0,l.memo)(e=>{let{item:t,pathname:a,onNavigate:l}=e;return R(t)&&t.items&&t.items.length>0?t.collapsible?(0,s.jsx)(_,{item:t,pathname:a,onNavigate:l}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.FX,{children:(0,s.jsx)(L,{url:t.url,title:t.title,icon:t.icon,isActive:a===t.url,onNavigate:l})}),(0,s.jsx)(j.q9,{children:t.items.map(e=>(0,s.jsx)(k,{item:e,pathname:a,onNavigate:l},e.url))})]}):(0,s.jsx)(j.FX,{children:(0,s.jsx)(L,{url:t.url,title:t.title,icon:t.icon,isActive:a===t.url,onNavigate:l})})});function M(e){let{groups:t}=e,a=(0,b.useRouter)(),l=(0,b.usePathname)();return(0,s.jsx)(s.Fragment,{children:t.map(e=>(0,s.jsxs)(j.Cn,{children:[(0,s.jsx)(j.jj,{children:e.label}),(0,s.jsx)(j.wZ,{children:e.items.map(e=>(0,s.jsx)(k,{item:e,pathname:l,onNavigate:a.push},e.url))})]},e.label))})}k.displayName="NavItem";var O=a(10081),z=a(71007),I=a(34835),U=a(54011),P=a(59434);function D(e){let{className:t,...a}=e;return(0,s.jsx)(U.bL,{"data-slot":"avatar",className:(0,P.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function T(e){let{className:t,...a}=e;return(0,s.jsx)(U._V,{"data-slot":"avatar-image",className:(0,P.cn)("aspect-square size-full",t),...a})}function G(e){let{className:t,...a}=e;return(0,s.jsx)(U.H4,{"data-slot":"avatar-fallback",className:(0,P.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var F=a(95205);function H(e){let{...t}=e;return(0,s.jsx)(F.bL,{"data-slot":"dropdown-menu",...t})}function S(e){let{...t}=e;return(0,s.jsx)(F.l9,{"data-slot":"dropdown-menu-trigger",...t})}function B(e){let{className:t,sideOffset:a=4,...l}=e;return(0,s.jsx)(F.ZL,{children:(0,s.jsx)(F.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,P.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...l})})}function X(e){let{className:t,inset:a,variant:l="default",...r}=e;return(0,s.jsx)(F.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":l,className:(0,P.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function q(e){let{className:t,inset:a,...l}=e;return(0,s.jsx)(F.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,P.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...l})}function Z(e){let{className:t,...a}=e;return(0,s.jsx)(F.wv,{"data-slot":"dropdown-menu-separator",className:(0,P.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var J=a(29094);function K(e){let{user:t}=e,{isMobile:a}=(0,j.cL)(),l=(0,b.useRouter)(),r=(0,J.Wn)();return(0,s.jsx)(j.wZ,{children:(0,s.jsx)(j.FX,{children:(0,s.jsxs)(H,{children:[(0,s.jsx)(S,{asChild:!0,children:(0,s.jsxs)(j.Uj,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[(0,s.jsxs)(D,{className:"h-8 w-8 rounded-lg",children:[(0,s.jsx)(T,{src:t.avatar,alt:t.name}),(0,s.jsx)(G,{className:"rounded-lg",children:"CN"})]}),(0,s.jsxs)("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[(0,s.jsx)("span",{className:"truncate font-medium",children:t.name}),(0,s.jsx)("span",{className:"truncate text-xs",children:t.email})]}),(0,s.jsx)(O.A,{className:"ml-auto size-4"})]})}),(0,s.jsxs)(B,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:a?"bottom":"right",align:"end",sideOffset:4,children:[(0,s.jsx)(q,{className:"p-0 font-normal",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[(0,s.jsxs)(D,{className:"h-8 w-8 rounded-lg",children:[(0,s.jsx)(T,{src:t.avatar,alt:t.name}),(0,s.jsx)(G,{className:"rounded-lg",children:"CN"})]}),(0,s.jsxs)("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[(0,s.jsx)("span",{className:"truncate font-medium",children:t.name}),(0,s.jsx)("span",{className:"truncate text-xs",children:t.email})]})]})}),(0,s.jsx)(Z,{}),(0,s.jsxs)(X,{className:"gap-2 p-2 cursor-pointer",onClick:()=>{l.push("/my-profile")},children:[(0,s.jsx)("div",{className:"flex size-6 items-center justify-center rounded-md border bg-primary/10",children:(0,s.jsx)(z.A,{className:"size-3.5 shrink-0 dark:text-white"})}),(0,s.jsx)("span",{className:"font-medium",children:"Mi Perfil"})]}),(0,s.jsx)(Z,{}),(0,s.jsxs)(X,{className:"gap-2 p-2 cursor-pointer",onClick:()=>r.mutate(),"aria-disabled":r.isPending,children:[(0,s.jsx)("div",{className:"flex size-6 items-center justify-center rounded-md border bg-primary",children:(0,s.jsx)(I.A,{className:"size-3.5 shrink-0 text-white"})}),(0,s.jsx)("span",{className:"font-medium",children:r.isPending?"Cerrando...":"Cerrar Sesi\xf3n"})," "]})]})]})})})}function V(e){var t,a,l,h;let{...g}=e,{user:b}=(0,J.nc)(),N=(null==b?void 0:b.role)||"",A={ADMIN:"Administrador",RRHH:"Recursos Humanos",SUPER_ADMIN:"Super Administrador",COLLABRATOR_INTERNAL:"Colaborador Interno",COLLABORATOR_EXTERNAL:"Colaborador Externo"}[N]||"Administrador",w={user:{name:(null==b||null==(t=b.profile)?void 0:t.firstName)&&(null==b||null==(a=b.profile)?void 0:a.lastName)?"".concat(b.profile.firstName," ").concat(b.profile.lastName):null!=(l=null==b?void 0:b.email)?l:"Usuario",email:null!=(h=null==b?void 0:b.email)?h:"",avatar:"/avatars/admin.jpg"},currentRole:{name:A,company:"CECAGEM",logo:r.A,image:"/image/logos/logocecagem.png"},navGroups:[{label:"General",roles:["ADMIN","SUPER_ADMIN"],items:[{title:"Dashboard",url:"/dashboard",icon:i.A,collapsible:!1}]},{label:"Gesti\xf3n Administrativa",roles:["ADMIN","SUPER_ADMIN","RRHH"],items:[{title:"Proyectos",url:"/contract",icon:n.A,collapsible:!1},{title:"Servicios",url:"/services",icon:o.A,collapsible:!1},{title:"Entregables",url:"/deliverables",icon:d.A,collapsible:!1},{title:"Clientes de Investigaci\xf3n",url:"/research-clients",icon:c.A,collapsible:!1},{title:"Clientes Contables",url:"/accounting-clients",icon:u.A,collapsible:!1},...["ADMIN","SUPER_ADMIN"].includes(N)?[{title:"Usuarios del sistema",url:"/user",icon:m.A,collapsible:!1}]:[],{title:"Ingresos y Egresos",url:"/account",icon:x.A,collapsible:!1}]},{label:"Herramientas",roles:["ADMIN","SUPER_ADMIN","RRHH"],items:[{title:"Calendario",url:"/calendar",icon:p.A,collapsible:!1},{title:"Reportes",url:"/reports",icon:f.A,collapsible:!1}]},{label:"Mi \xc1rea de Trabajo",roles:["COLLABORATOR_INTERNAL","COLLABORATOR_EXTERNAL"],items:[{title:"Mis Proyectos",url:"/my-contract",icon:n.A,collapsible:!1},...N.includes("COLLABORATOR_INTERNAL")?[{title:"Mis Empresas",url:"/my-accounting-client",icon:u.A,collapsible:!1}]:[]]}].filter(e=>e.roles.includes(N))};return(0,s.jsxs)(j.Bx,{collapsible:"icon",...g,children:[(0,s.jsx)(j.Gh,{children:(0,s.jsx)(v,{currentRole:w.currentRole})}),(0,s.jsx)(j.Yv,{children:(0,s.jsx)(M,{groups:w.navGroups})}),(0,s.jsx)(j.CG,{children:(0,s.jsx)(K,{user:w.user})}),(0,s.jsx)(j.jM,{})]})}function W(e){let{children:t}=e;return(0,s.jsxs)(j.GB,{children:[(0,s.jsx)(V,{variant:"floating"}),(0,s.jsx)(s.Fragment,{children:t})]})}}},e=>{e.O(0,[9558,5041,8859,5089,221,8034,7435,2924,1339,9094,8441,5964,7358],()=>e(e.s=12698)),_N_E=e.O()}]);